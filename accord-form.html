<!-- Imports polymer -->
<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-form/iron-form.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">

<!-- Defines element markup -->
<dom-module id="accord-form">

    <template>


        <form is="iron-form" method="get" action="/" id="submitOptions">
            <template is="dom-repeat" items="{{fields}}">
                <paper-input name="name" label="{{item.name}}" value="{{item.value}}" required></paper-input>
            </template>
        </form>
    </template>

</dom-module>

<script src="../markdown-js/dist/markdown.js"></script>
<!-- Registers custom element -->
<script>
    Polymer({
        is: 'accord-form',
        properties: {
            data: {
                type: Object,
                notify: true,
                observer: '_data'
            },
            fields: {
                type: Array,
                value: []
            }
        },

        attached: function () {

        },



        _data: function () {

            if (this.data)
                Object.keys(this.data).forEach(function (key) {

                    this.push('fields', {
                        key: key,
                        name: key,
                        value: this.data[key]
                    })
                }.bind(this));
        }
    });
</script>